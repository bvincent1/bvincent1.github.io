<!doctype html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WNN693');</script>
  <!-- End Google Tag Manager -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hack n Slash | Plus Minus</title>
  <meta name="description" content="Have a little fun with so called metrics">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Plus Minus">
  <meta property="og:type" content="website">
  <meta property="og:url" content="blog.hacknslash.io/posts/plus-minus">
  <meta property="og:description" content="Have a little fun with so called metrics">
  <meta property="og:site_name" content="Hack n Slash">
  <meta property="og:image" content="blog.hacknslash.io/assets/og-image.jpg">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="blog.hacknslash.io/posts/plus-minus">
  <meta name="twitter:title" content="Plus Minus">
  <meta name="twitter:description" content="Have a little fun with so called metrics">
  <meta name="twitter:image" content="blog.hacknslash.io/assets/og-image.jpg">

  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="blog.hacknslash.io/feed.xml" type="application/rss+xml" rel="alternate" title="Hack n Slash Last 10 blog posts" />

  
    <link type="text/css" rel="stylesheet" href="/assets/dark.css">
  

  <script src="https://cdn.rawgit.com/bvincent1/snitcher/c5dc3078/snitch_tag.js" integrity="sha384-lnbviq+Cc8CLcs6GOr0xW+/Cwgjy/qW2EQwWWXRJM4inxXWz1wh+zVf3fsVNHIDU" crossorigin="anonymous" charset="utf-8"></script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WNN693"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="Hack n Slash">Hack n Slash</a>
  <ul class="header-links">
    
    
    
    
      <li>
        <a href="https://github.com/bvincent1" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
    
    
    
    
      <li>
        <a href="mailto:benjc.vincent@gmail.com" title="Email">
          <span class="icon icon-at"></span>
        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>Plus Minus</h1>
            <p>Have a little fun with so called metrics</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                May 11, 2017
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  9 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/python">python</a>
                
                  <a href="/tag/selenium">selenium</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <h1 id="plusplus-bots">PlusPlus bots</h1>
<p>So a recent move at my current employer introduced the concept of a rating system. It’s called PlusPlus. It consists of 2 possible commands <code class="highlighter-rouge">@user --</code> or <code class="highlighter-rouge">@user ++</code>. These stats are then tallied in a leaderboard for all the company to see and review. Now though I have nothing against the person who wanted it added, I’m not a huge fan of being tracked and “rated” based on slack messages… So in a classic troll move I thought:</p>

<blockquote>
  <p>If everyone is stuck at 0 then there’s no point for keeping track of points.</p>
</blockquote>

<p>So with this concept in mind I had a few different ideas to test.</p>

<h1 id="whats-a-slack-bot">What’s a slack bot?</h1>
<p>So off the top of my head I have a couple attack vectors.</p>

<ul>
  <li>interact directly with the PlusPlus bot</li>
  <li>use another bot to message it directly</li>
  <li>replicate a client and send it messages as myself</li>
  <li>connect to it with a browser and simply interact with it the old fashion way</li>
</ul>

<p>So with a clear goal of rigging the elections, we can proceed to evaluate what exactly we’re dealing with. At it’s core slack operates exactly like an IRC network. A central server receives messages and then propagates them to the clients when they connect for updates. Simple. So what does a slack bot look like then? Well if I were making this, the bot would simply just be another client that checks for updates periodically. I’m just gonna assume that this is the case, since this’d be easiest to do from a developer standpoint. However this means that option #1 is no longer viable since there’s no way for me to interact with the bot by pretending to be slack.</p>

<p><del>interact directly with the PlusPlus bot</del></p>

<h1 id="crossing-out-my-options">Crossing out my options</h1>
<p>Well lets try using my own bot. If the team behind PlusPlus did a poor job they simply parse all the messages and then do matching against that. Maybe they’re silly enough to parse other bots??</p>

<p>Well lets try it!</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#!/usr/bin/env python3</span>
<span class="s">"""
test posting to slack
"""</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">URL_TEST</span> <span class="o">=</span> <span class="s">"https://hooks.slack.com/services/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t"</span>
<span class="n">TEST</span> <span class="o">=</span> <span class="s">"@braam++"</span>


<span class="k">print</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">URL_TEST</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s">"text"</span><span class="p">:</span> <span class="n">TEST</span><span class="p">})</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre>
</div>

<p>So using this snippet against my pre-existing slack web hook, I can quickly see that the lovely folks behind PlusPlus did in fact do a bit of a better job than I could’ve hopped for. Maybe there’s a way to get it to accept my messages directly, but I’m not interested in trying to figure it out.</p>

<p><del>use another bot to message it directly</del></p>

<p>Next up we have to figure out if I can simply emulate a client and message the bot as myself from a script. A quick google + github search suggests that my options are limited. I could try implementing a RTM interface bot, but that seems like it’ll be a lot of fiddling with unnecessary features.</p>

<p>Honestly I just want the simplest thing. I’m not interested in configuring some bot using oath and then reading event hooks via restful interface. Is there nothing simple?? Well it turns out no…</p>

<p><del>replicate a client and send it messages as myself</del></p>

<h1 id="when-all-you-have-is-a-hammer-everythings-a-nail">When all you have is a hammer, everything’s a nail…</h1>
<p>So I’m down to my last option. Good news is that I know it’ll work no matter what slack does. Bad news is that it’s somewhat overkill considering what I’m trying to do here is just spam some bot. Also it’s pretty fucking slow.</p>

<p>Welp… better get started</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="err">!</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">env</span> <span class="n">python3</span>

<span class="s">"""
Slack PlusPlus score manipulator bot
https://plusplus.chat/
"""</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</code></pre>
</div>

<p>Here’s all the libs that I’m going to use. Pretty standard stuff. Next up lets open a browser and login.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">init_slack_env</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
    <span class="s">"""
    login browser to proper web page with ENV variables
    """</span>
    <span class="n">signin_button_id</span> <span class="o">=</span> <span class="s">"signin_btn"</span>
    <span class="n">email_element_id</span> <span class="o">=</span> <span class="s">"email"</span>
    <span class="n">password_element_id</span> <span class="o">=</span> <span class="s">"password"</span>

    <span class="c"># open slack</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://granify.slack.com/messages/C2DPUG6JK"</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">SLACK_LOAD_DELAY</span><span class="p">)</span>
    <span class="k">if</span> <span class="s">"Sign in to Granify"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">browser</span><span class="o">.</span><span class="n">page_source</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="c"># authenticate slack</span>
    <span class="n">email_form</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">email_element_id</span><span class="p">)</span>
    <span class="n">password_form</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">password_element_id</span><span class="p">)</span>
    <span class="n">submit_form</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">signin_button_id</span><span class="p">)</span>
    <span class="n">email_form</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">"SLACK_NAME"</span><span class="p">])</span>
    <span class="n">password_form</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">"SLACK_PASSWORD"</span><span class="p">])</span>
    <span class="n">submit_form</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">SLACK_LOAD_DELAY</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</code></pre>
</div>

<p>Now that I’m logged in, lets get the leaderboards so we have some actions to do.</p>

<p>Now one of the nice (lucky) things about doing it this way, is that I can simply parse the page as it’s shown to me. When I look at the first request and the html that I received I find out that it only sends a stub of the page, and then dynamically loads the content using JS. This means that if I had used a different method to interact with slack, I would’ve also had to figure out how to interact with this API.</p>

<p>So lets look at the html that I’m giving when the page is done loading and rendering.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"columns"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1"</span><span class="nt">&gt;</span>
  ...
  <span class="nt">&lt;span</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"leaderboard-list"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"leaderboard-header"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.0"</span><span class="nt">&gt;</span>
        ...
      <span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"leaderboard-rank"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1.0"</span><span class="nt">&gt;</span>01.<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"leaderboard-trophy"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1.1"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"leaderboard-score"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1.2"</span><span class="nt">&gt;</span>50<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"leaderboard-name"</span> <span class="na">title=</span><span class="s">"@braam"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1.3"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-ellipse"</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1.3.0"</span><span class="nt">&gt;</span>
            ...
            <span class="nt">&lt;span</span> <span class="na">data-reactid=</span><span class="s">".0.1.1.$=1$static-t-granify/leaderboard.0.1.1.0.1.0.1.3.0.1:0:0"</span><span class="nt">&gt;</span>braam<span class="nt">&lt;/span&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/li&gt;</span>
      ...
</code></pre>
</div>

<p>So it looks like the results are tallied in list elements and then divided up by divs. Great! All we need to look out for is the first list entry since it’s a header.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_slack_leaderboards</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
    <span class="s">"""
    returns array of dicts, eg: [ {name: "ben", score: "-999"}, ...]
    """</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://plusplus.chat/t/granify/leaderboard"</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">browser</span><span class="o">.</span><span class="n">page_source</span><span class="p">,</span> <span class="n">HTML_PARSER</span><span class="p">)</span>
    <span class="n">leaderboard_rows</span> <span class="o">=</span> <span class="n">soup</span><span class="p">(</span><span class="s">"li"</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span> <span class="c"># skip first one since its a &lt;hr&gt;</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">leaderboard_rows</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">row</span><span class="p">(</span><span class="s">"div"</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">(</span><span class="s">"div"</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">"name"</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s">"score"</span><span class="p">:</span> <span class="n">score</span><span class="p">})</span>

    <span class="n">browser</span><span class="o">.</span><span class="n">back</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">SLACK_LOAD_DELAY</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre>
</div>

<p>With that out of the way we now get to focus on the main routine of our project.</p>

<h1 id="function-and-functional">Function and functional</h1>

<p>So now that we’ve got a our information and our state figured out, lets get this functional. Now I’ve been trying to progress into functional programming so I’m going to start at the top, and work my way down.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="s">"""
    main event loop
    iterate through leaderboards and continously adjust scores to ~ -999
    """</span>

    <span class="k">try</span><span class="p">:</span>
      <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
        <span class="n">init_slack_env</span><span class="p">(</span><span class="n">browser</span><span class="p">)</span>

        <span class="n">res</span> <span class="o">=</span> <span class="n">get_slack_leaderboards</span><span class="p">(</span><span class="n">browser</span><span class="p">)</span>
        <span class="n">res</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">entry</span><span class="p">:</span> <span class="n">adjust_score</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="n">entry</span><span class="p">[</span><span class="s">"name"</span><span class="p">],</span> <span class="o">-</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s">"score"</span><span class="p">]))</span> <span class="o">-</span> <span class="mi">999</span><span class="p">))</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
      <span class="k">raise</span> <span class="n">e</span>
    <span class="k">return</span> <span class="bp">None</span>
</code></pre>
</div>

<p>Now the weird thing about functional programming is that for-loops are bad. This is fine to me I guess, but in this case I’d almost prefer using a for-loop just because I’m currently abusing the map function and throwing away the result. Eh, whatever. Under the current setup, I’ve planned for getting the env set up and then having a method that I can call with the user that I want to adjust, and the score that I want them to be at! This seems pretty functional, though it’s not like I’d notice if it wasn’t.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">adjust_score</span><span class="p">(</span><span class="n">browser</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">adjustment</span><span class="p">,</span> <span class="n">rate_limit</span><span class="o">=</span><span class="mf">0.5</span><span class="p">):</span>
    <span class="s">"""
    adjusts user's score by amount with rate limiting
    """</span>
    <span class="n">input_lement_id</span> <span class="o">=</span> <span class="s">"msg_input"</span>

    <span class="k">if</span> <span class="n">adjustment</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">elif</span> <span class="n">adjustment</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="s">"</span><span class="si">%</span><span class="s">s ++"</span> <span class="o">%</span> <span class="n">user</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="s">"</span><span class="si">%</span><span class="s">s --"</span> <span class="o">%</span> <span class="n">user</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">input_lement_id</span><span class="p">)</span>
    <span class="n">repeat</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">adjustment</span><span class="p">),</span> <span class="n">send_message</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</code></pre>
</div>

<p>So working down the chain, here’s what the <code class="highlighter-rouge">adjust_score</code> method looks like. We find the messaging element on slack, and send a message on it <code class="highlighter-rouge">x</code> number of times. Pretty straight forwards, except we get to try and be functional, so we avoid a for loop with the <code class="highlighter-rouge">repeat</code> method. This is basically the same thing as the <code class="highlighter-rouge">map</code> except we use an interval to decide how many times the method should be repeated.</p>

<p>Ignoring the repeat method for a moment the send message function looks something (exactly) like this.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">send_message</span><span class="p">(</span><span class="n">message_element</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">rate_limit</span><span class="o">=</span><span class="mf">0.5</span><span class="p">):</span>
    <span class="s">"""
    send slack message
    """</span>
    <span class="n">message_element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
    <span class="n">message_element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">RETURN</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">rate_limit</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</code></pre>
</div>

<p>As it turns out the web client for slack can have some lag when sending large numbers of messages. This means we have to rate limit them so allow for the client to catch up to us. Pretty easy, but it’s important since otherwise we overload the one entry with the same message until we’re “done”.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="s">"""
    repeat method with arguments for # of iterations
    """</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
        <span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</code></pre>
</div>

<p>This is probably the only “functional” part of my whole program, and as such is the part that I’m most proud of! It’s actually the only thing that I was had to think through rather than just code away. It’s a pretty simple method, and it’s really not hard to make or use, but I’d like to think that it’ll help me progress along the functional methodology.</p>

<h1 id="conclusion">Conclusion</h1>

<p>Most of this mini-project is pretty straight forwards and not really challenging from a technical standpoint. Trying to make this functional is the real challenge since I’m constantly evaluating my code and trying to work through all the concepts that I can remember in head.</p>

<blockquote>
  <ul>
    <li>Is this function pure?</li>
    <li>Did I mutate this input?</li>
    <li>Why am I using this for-loop?</li>
    <li>Are my methods too long?</li>
    <li>Is there too much state involved?</li>
    <li>Is this even better?</li>
  </ul>
</blockquote>

<p>I’m sure that this isn’t a great example of anything actually functional, but I’m still happy with how easy it was to do.</p>

<p>Moving forwards, it’d be nice if I could somehow test this, or maybe move to a client spoofing version that way I could do some cool stuff like async tasks and threading (true sign of functional code). If anyone knows of a lib that I could use, please msg me and I’ll look into it.</p>

<p>Here’s a link to the full source (some minor differences aside)</p>

<h3 id="source"><a href="https://gist.github.com/bvincent1/85b7dd82ccfb4e70cc20cecacd15c6bd">Source</a></h3>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=Plus Minus - blog.hacknslash.io/posts/plus-minus ', 'newwindow', 'width=500, height=225'); return false;">
              <span class="icon icon-social-twitter"></span>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=blog.hacknslash.io/posts/plus-minus', 'newwindow', 'width=500, height=500'); return false;">
              <span class="icon icon-social-facebook"></span>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=blog.hacknslash.io/posts/plus-minus', 'newwindow', 'width=550, height=400'); return false;">
              <span class="icon icon-social-googleplus"></span>
            </a>
          </div>

          
        </article>
        <footer class="footer reveal">
  <p>
    Hack it up
  </p>
  <script type="text/javascript">
    console.log("I see you've found the egg.\n Maybe I'll import some cool modules down here and do some work on your machine? >:)");
  </script>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js" crossorigin="anonymous" integrity="sha384-0bIyOfFEbXDmR9pWVT6PKyzSRIx8gTXuOsrfXQA51wfXn3LRXt+ih6riwq9Zv2yn"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>



</body>
</html>
